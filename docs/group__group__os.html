<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="dark-mode">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="author" content="SXS Collaboration">
    <meta name="generator" content="Doxygen 1.12.0"/>
  <title>fpx.f: OS</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
  <script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
  <script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
  <script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
  <script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
  <script type="text/javascript">
      DoxygenAwesomeFragmentCopyButton.init()
      DoxygenAwesomeDarkModeToggle.init()
      DoxygenAwesomeParagraphLink.init()
      DoxygenAwesomeInteractiveToc.init()
      DoxygenAwesomeTabs.init()
  </script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/MathJax.js"></script>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<script>
$(function() {
	hljs.configure({useBR: false});
	$(".fragment").each(function(i,node) {
		$(node).removeClass("fragment");
		hljs.highlightBlock(node);
	});
});
</script>
  </head>
  <body>
  <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0">
      <tbody>
        <tr style="height: 56px;">
          <td id="projectlogo"><img alt="Logo" src="logo.png" /></td>
          <td id="projectalign" style="padding-left: 0.5em;">
            <div id="projectname">
              <a href="index.html">fpx.f</a>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__group__os.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">OS</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Definition</h2>
<p>Operating system detection utilities for the fpx preprocessor This lightweight module provides reliable runtime detection of the current operating system on Unix-like platforms (Linux, macOS, FreeBSD, OpenBSD, Solaris) and Windows (including Cygwin, MSYS, and native Windows). Detection is performed only once per thread (using OpenMP threadprivate storage) and then cached for fast subsequent calls. The implementation first checks common environment variables (<code>OSTYPE</code>, <code>OS</code>), then falls back to the presence of OS-specific files. This makes it robust across native systems, containers, WSL, Cygwin, and cross-compilation environments. </p>
<h2 class="groupheader">Examples</h2>
<ol type="1">
<li>Basic OS detection: <div class="fragment"><div class="line"><span class="keywordtype">integer</span> :: my_os</div>
<div class="line">my_os = get_os_type()</div>
<div class="line">print *, <span class="stringliteral">&#39;Running on: &#39;</span>, os_name(my_os)<span class="comment"></span></div>
<div class="line"><span class="comment">!&gt; prints e.g. &#39;Running on: Linux&#39;</span></div>
</div><!-- fragment --></li>
<li>Conditional compilation based on OS: <div class="fragment"><div class="line"><span class="comment">!platform specific system call</span></div>
<div class="line"><span class="keywordflow">if</span> (os_is_unix()) <span class="keywordflow">then</span></div>
<div class="line">    <span class="keyword">call </span>system(<span class="stringliteral">&#39;gcc --version&#39;</span>)</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">    <span class="keyword">call </span>execute_command_line(<span class="stringliteral">&#39;gfortran --version&#39;</span>)</div>
<div class="line"><span class="keywordflow">end if</span></div>
<div class="line">...</div>
</div><!-- fragment --></li>
<li>Using the cached value explicitly: <div class="fragment"><div class="line"><span class="keywordtype">integer</span> :: os_type</div>
<div class="line">os_type = get_os_type()           <span class="comment">! detects and caches</span></div>
<div class="line">print *, os_is_unix(os_type)      ! fast, no re-detection</div>
</div><!-- fragment --> </li>
</ol>
<h2 class="groupheader">Methods</h2>
<a id="gab22409272fd1365aba83ea3faed5db94" name="gab22409272fd1365aba83ea3faed5db94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab22409272fd1365aba83ea3faed5db94">&#9670;&#160;</a></span>get_os_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">integer function, public get_os_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the current operating system type Returns one of the OS_* constants. Detection is performed only on the first call and cached in threadprivate storage for subsequent fast access. </p>
<p>Detection strategy:</p><ol type="1">
<li>Environment variable <code>OSTYPE</code> (common on Unix-like systems)</li>
<li>Environment variable <code>OS</code> (set on Windows)</li>
<li>Presence of OS-specific files (/etc/os-release, /usr/bin/sw_vers, etc.)</li>
</ol>
<p>Returns OS_UNKNOWN if no reliable indicator is found.</p>
<dl class="section return"><dt>Returns</dt><dd>OS identifier (OS_LINUX, OS_MACOS, OS_WINDOWS, ...)</dd></dl>
<p><b>Remarks</b> </p>

<p class="definition">Definition at line <a class="el" href="os_8f90_source.html#l00098">98</a> of file <a class="el" href="os_8f90_source.html">os.f90</a>.</p>

</div>
</div>
<a id="gaa68416bffd37d6eb53ae27cae0e406bb" name="gaa68416bffd37d6eb53ae27cae0e406bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa68416bffd37d6eb53ae27cae0e406bb">&#9670;&#160;</a></span>os_is_unix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">logical function, public os_is_unix </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in), optional</td>          <td class="paramname"><span class="paramname"><em>os</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return .true. if the current (or supplied) OS is Unix-like Convenience wrapper that returns .true. for any non-Windows platform. Useful for writing portable code that needs different handling on Windows. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">os</td><td>Optional OS identifier; if absent get_os_type() is called </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>.true. if OS is not Windows, .false. otherwise</dd></dl>
<p><b>Remarks</b> </p>

<p class="definition">Definition at line <a class="el" href="os_8f90_source.html#l00218">218</a> of file <a class="el" href="os_8f90_source.html">os.f90</a>.</p>

</div>
</div>
<a id="gadc3e8d033f0055d5f8f1b6398178db99" name="gadc3e8d033f0055d5f8f1b6398178db99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadc3e8d033f0055d5f8f1b6398178db99">&#9670;&#160;</a></span>os_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pure character(:) function, allocatable, public os_name </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)</td>          <td class="paramname"><span class="paramname"><em>os</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a human-readable string describing the OS type flag Converts any of the OS_* integer constants into its corresponding name. Useful for logging, error messages, or user output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">os</td><td>OS identifier from get_os_type() </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Allocated character string with the OS name</dd></dl>
<p><b>Remarks</b> </p>

<p class="definition">Definition at line <a class="el" href="os_8f90_source.html#l00066">66</a> of file <a class="el" href="os_8f90_source.html">os.f90</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
    &copy; Copyright 2017 - 2024
    <a href="LICENSE.txt" target="_blank">
    <span class="hidden-xs">Distributed under the</span>
    MIT License</a>
  </ul>
</div>
</body>
</html>
